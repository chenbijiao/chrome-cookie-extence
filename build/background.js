!function(e){var o={};function t(r){if(o[r])return o[r].exports;var n=o[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,t),n.l=!0,n.exports}t.m=e,t.c=o,t.d=function(e,o,r){t.o(e,o)||Object.defineProperty(e,o,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,o){if(1&o&&(e=t(e)),8&o)return e;if(4&o&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&o&&"string"!=typeof e)for(var n in e)t.d(r,n,function(o){return e[o]}.bind(null,n));return r},t.n=function(e){var o=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(o,"a",o),o},t.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)},t.p="",t(t.s=38)}({38:function(e,o,t){"use strict";var r={cookieStatus:!0,cookieStr:"",cookieMap:null};function n(){chrome.cookies.getAll({},(function(e){!function(e){if(r.cookieStr===JSON.stringify(e))return void console.log("cookie缓存未更新");r.cookieStr=JSON.stringify(e);var o=new Map;e.forEach((function(e){var t=(o.get(e.domain)||"")+e.name+"="+e.value+"; ";o.set(e.domain,t)})),r.cookieMap=o,console.log("cookie缓存已更新"),console.log(e)}(e)}))}function i(e){var o,t,i,u,l;if(r.cookieStatus){n();for(var a=e.requestHeaders.length-1;a>=0;a--)if("Cookie"===e.requestHeaders[a])return;if(console.log("成功携带cookie:"+e.url),e.url){var c=null!==(o=null===(t=e.url.match(/:\/\/.*?\//i))||void 0===t?void 0:t[0])&&void 0!==o?o:e.url;c=null===(i=c=c.match(/\.([a-z0-9-])+\.[a-z]+(:[0-9]*)?/g))||void 0===i||null===(u=i[0])||void 0===u||null===(l=u.split(":"))||void 0===l?void 0:l[0];for(var s=["baidu","google","gitlab"],f=0;f<s.length;f++){var d;if(null!==(d=c)&&void 0!==d&&d.includes(s[f]))return}var v=r.cookieMap.get(c);if(v)return e.requestHeaders.push({name:"Cookie",value:v}),{requestHeaders:e.requestHeaders}}else console.log(e+"本次未成功携带Cookie，请确认该请求是否需要携带Cookie")}}console.log("chrome-cookie-issue is powered by jiguang"),n(),chrome.runtime.onMessage.addListener((function(e,o,t){"cookieStatus"===e.type&&null!==e.cookieStatus&&(r.cookieStatus=e.cookieStatus,n()),t({success:!0,cookieStatus:r.cookieStatus})})),chrome.webRequest.onBeforeSendHeaders.addListener(i,{urls:["<all_urls>"]},["blocking","requestHeaders","extraHeaders"])}});